<ng-container *ngIf="activeQuoteRequest$ | async as quote">
  <div class="modal-header">
    <h2 class="modal-title" *ngIf="state$ | async as state">
      <!-- Titel and Description -->
      <ng-container *ngIf="state === 'Submitted'; else quoteTitle">
        {{ 'quote.edit.submitted.heading' | translate }}
      </ng-container>
      <ng-template #quoteTitle>
        {{ 'quote.edit.unsubmitted.quote_request_details.text' | translate }} - {{ quote.displayName || quote.number }}
      </ng-template>
    </h2>
    <button type="button" class="close" [attr.aria-label]="'dialog.close.text' | translate" (click)="hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  <div class="modal-body">
    <ish-error-message [error]="error$ | async"></ish-error-message>

    <ng-container *ngIf="editable$ | async; else elseTemplate">
      <ish-quote-edit [quote]="quote"></ish-quote-edit>
    </ng-container>
    <ng-template #elseTemplate>
      <ish-quote-view></ish-quote-view>
    </ng-template>
  </div>
</ng-container>

<a class="btn btn-link" [routerLink]="['/account/quotes']">{{ 'quote.edit.back_to_quotes.link' | translate }}</a>

<ish-loading *ngIf="loading$ | async"></ish-loading>
