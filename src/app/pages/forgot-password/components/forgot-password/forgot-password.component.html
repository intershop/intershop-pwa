<h1>{{ 'account.forgotdata.password_retrieval.heading' | translate }}</h1>

<ng-container *ngIf="success; else forgotPasswordForm">
  <p>{{ 'account.send_password.message' | translate }}</p>
</ng-container>

<ng-template #forgotPasswordForm>
  <p
    [ishServerHtml]="
      (securityQuestionEnabled
        ? 'account.forgotdata.password_retrieval_info.text'
        : 'account.forgotdata.password_retrieval_info.text.no.security_question') | translate
    "
  ></p>

  <div *ngIf="error" role="alert" class="alert alert-danger">
    <ng-container [ngSwitch]="error.status">
      <span *ngSwitchCase="'401'">{{ 'captcha.incorrect' | translate }}</span>
      <span *ngSwitchCase="'500'">{{ 'servererror.mailServer.error' | translate }}</span>
      <span *ngSwitchDefault>{{ 'account.forgotdata.email.invalid_login_or_name.error' | translate }}</span>
    </ng-container>
  </div>

  <div class="row">
    <div class="col-md-10 col-lg-8 col-xl-6">
      <ish-forgot-password-form (submitPasswordReminder)="requestPasswordReminder($event)"></ish-forgot-password-form>
    </div>
  </div>
</ng-template>
