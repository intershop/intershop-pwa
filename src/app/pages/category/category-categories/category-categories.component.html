<div class="category-page" [attr.data-testing-id]="category.uniqueId">
  <div class="marketing-area">
    <ish-content-viewcontext
      *ngIf="category.categoryRef"
      viewContextId="viewcontext.include.category.base.top"
      [callParameters]="{ Category: category.categoryRef }"
    />
  </div>
  <div class="row">
    <div class="col-md-3">
      <div class="navigation-panel" [ngbCollapse]="isCollapsed">
        <ish-category-navigation [uniqueId]="category.categoryPath[0]" />
        <div class="marketing-area">
          <ish-content-viewcontext
            *ngIf="category.categoryRef"
            viewContextId="viewcontext.include.category.navigation"
            [callParameters]="{ Category: category.categoryRef }"
          />
        </div>
      </div>
      <a class="d-md-none mobile-filter-toggle" (click)="toggle()" (keyup.enter)="toggle()" tabindex="0" role="button">
        {{ 'search.mobile.filter.trigger' | translate }}
        <fa-icon [icon]="['fas', isCollapsed ? 'angle-down' : 'angle-up']" />
      </a>
    </div>

    <div class="col-md-9">
      <ish-breadcrumb />
      <h1>{{ category.name }}</h1>

      <div class="marketing-area">
        <ish-content-viewcontext
          *ngIf="category.categoryRef"
          viewContextId="viewcontext.include.category.content.top"
          [callParameters]="{ Category: category.categoryRef }"
        />
      </div>

      <ish-category-list [categories]="category.children" />

      <div class="marketing-area">
        <ish-content-viewcontext
          *ngIf="category.categoryRef"
          viewContextId="viewcontext.include.category.content.bottom"
          [callParameters]="{ Category: category.categoryRef }"
        />
      </div>
    </div>
  </div>
  <div class="marketing-area">
    <ish-content-viewcontext
      *ngIf="category.categoryRef"
      viewContextId="viewcontext.include.category.base.bottom"
      [callParameters]="{ Category: category.categoryRef }"
    />
  </div>
</div>
