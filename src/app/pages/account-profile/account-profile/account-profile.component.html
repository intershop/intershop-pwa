<h1>{{ 'account.profile.heading' | translate }}</h1>

<!-- Email Template -->
<div class="row section">
  <div class="col-10 col-lg-8">
    <h3>{{ 'account.profile.email.heading' | translate }}</h3>
    <div class="row">
      <div class="col-md-12">
        <dl class="row dl-horizontal dl-separator">
          <dt class="col-md-4">{{ 'account.profile.email.label' | translate }}</dt>
          <dd class="col-md-8" data-testing-id="email-field">{{ user.email }}</dd>
          <!-- TODO: implement logic (extend REST response) to present email subscriptions
          <dt>{{'account.profile.order_confirmation_subscription.text' | translate}}</dt>
          <dd>

              <isif condition="#Preferences:OrderConfirmationEmails#">
                {{'account.profile.order_confirmation_email.text' | translate}}&nbsp;
              </isif>
              <isif condition="#isDefined(ReceiveNewsletters) AND ReceiveNewsletters#">
                {{'account.profile.newsletter.text' | translate}}
              </isif>
          </dd>
          -->
        </dl>
      </div>
    </div>
  </div>
  <div class="col-2 col-lg-4">
    <a
      *ishIdentityProviderCapability="'editEmail'"
      routerLink="/account/profile/email"
      class="btn-tool"
      [title]="'account.profile.update.link' | translate"
      data-testing-id="edit-email"
    >
      <fa-icon [icon]="['fas', 'pencil-alt']"></fa-icon>
    </a>
  </div>
</div>

<!-- Password Template -->
<div class="row section" *ishIdentityProviderCapability="'editPassword'">
  <div class="col-10 col-lg-8">
    <h3>{{ 'account.profile.password.heading' | translate }}</h3>
    <div class="row">
      <div class="col-md-12">
        <dl class="row dl-horizontal dl-separator">
          <dt class="col-md-4">{{ 'account.profile.password.label' | translate }}</dt>
          <dd class="col-md-8">******</dd>
        </dl>
      </div>
    </div>
  </div>
  <div class="col-2 col-lg-4">
    <a
      routerLink="/account/profile/password"
      class="btn-tool"
      title="{{ 'account.profile.update.link' | translate }}"
      data-testing-id="edit-password"
    >
      <fa-icon [icon]="['fas', 'pencil-alt']"></fa-icon>
    </a>
  </div>
</div>
<!--Company Profile -->
<div *ngIf="customer.isBusinessCustomer" class="row section" data-testing-id="company-info">
  <div class="col-10 col-lg-8">
    <h3>{{ 'account.company_profile.detail.heading' | translate }}</h3>
    <div class="row">
      <div class="col-md-12">
        <dl class="row dl-horizontal dl-separator">
          <dt class="col-md-4">{{ 'account.company_profile.name.label' | translate }}</dt>
          <!-- display: inline -->
          <dd class="col-md-8" data-testing-id="company-field"
            >{{ customer.companyName }}<br />{{ customer.companyName2 }}</dd
          >
          <ng-container *ngIf="customer.industry">
            <dt class="col-md-4">{{ 'account.company_profile.industry.label' | translate }}</dt>
            <dd class="col-md-8">{{ customer.industry }}</dd>
          </ng-container>
          <dt class="col-md-4">{{ 'account.company_profile.taxation_id.label' | translate }}</dt>
          <dd class="col-md-8" data-testing-id="taxation-id-field">{{ customer.taxationID }}</dd>
        </dl>
      </div>
    </div>
  </div>
  <div class="col-2 col-lg-4">
    <a
      routerLink="/account/profile/company"
      class="btn-tool"
      title="{{ 'account.profile.update.link' | translate }}"
      data-testing-id="edit-company"
    >
      <fa-icon [icon]="['fas', 'pencil-alt']"></fa-icon>
    </a>
  </div>
</div>

<!-- Profile Template -->
<div class="row section">
  <div class="col-10 col-lg-8">
    <h3>{{ 'account.profile.detail.heading' | translate }}</h3>
    <div class="row">
      <div class="col-md-12">
        <dl class="row dl-horizontal dl-separator">
          <dt class="col-md-4">{{ 'account.profile.name.label' | translate }}</dt>
          <!-- display: inline -->
          <dd class="col-md-8" data-testing-id="name-field"
            >{{ user.title ? user.title + ' ' : '' }}{{ user.firstName }} {{ user.lastName }}</dd
          >
          <!-- Phone -->
          <dt class="col-md-4">{{ 'account.profile.phone.label' | translate }}</dt>
          <dd class="col-md-8" data-testing-id="phone-field">{{ user.phoneHome }}</dd>

          <!-- Birthday
          <dt class="col-md-4">{{ 'account.profile.birthday.label' | translate }}</dt>
          <dd class="col-md-8" data-testing-id="birthday-field">{{
            user.birthday ? (user.birthday | ishDate) : ('account.profile.birthday.not_available' | translate)
          }}</dd>
          -->
        </dl>
      </div>
    </div>
  </div>
  <div class="col-2 col-lg-4">
    <a
      *ishIdentityProviderCapability="'editProfile'"
      routerLink="/account/profile/user"
      class="btn-tool"
      title="{{ 'account.profile.update.link' | translate }}"
      data-testing-id="edit-user"
    >
      <fa-icon [icon]="['fas', 'pencil-alt']"></fa-icon>
    </a>
  </div>
</div>

<!-- Newsletter Template -->
<!-- TODO: Newsletter configuration currently not available via REST API, need to get information for <isif condition="#isDefined(ReceiveNewsletters) AND ReceiveNewsletters#"><istext key="account.newsletter.subscribed"/><iselse> <istext key="account.newsletter.unsubscribed"/></isif>
<div class="row section">
  <div class="col-10 col-lg-8">
    <h3>{{'account.newsletter.label' | translate}}</h3>
    <div class="row">
      <div class="col-md-12">
        <dl class="row">
          <dt class="col-md-4">{{'account.newsletter.label' | translate}}</dt>
          <dd class="col-md-8">

          </dd>
        </dl>
      </div>
    </div>
  </div>
  <div class="col-2 col-lg-4">
    <a class="btn-tool" title="{{'account.profile.update.link' | translate}}">
      <fa-icon [icon]="['fas', 'pencil-alt']"></fa-icon>
    </a>
  </div>
</div>
-->

<!-- Note -->
<p class="form-text">
  {{ 'account.overview.note.heading' | translate }}:
  <span
    [ishServerHtml]="'account.overview.note.text' | translate: { '0': 'page://page.privacyPolicy.pagelet2-Page' }"
  ></span>
</p>
