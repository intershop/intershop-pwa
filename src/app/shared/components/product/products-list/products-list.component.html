<ng-container *ngIf="productSKUs$ | async as products">
  <ng-container *ngIf="products.length">
    <ng-container *ngIf="listStyle === 'carousel'; else plainList">
      <div class="product-list">
        <ish-swiper [config]="swiperConfig">
          <ng-template *ngFor="let sku of products" swiperSlide>
            <ish-lazy-item [ngClass]="listItemCSSClass">
              <ng-template ishLazyLoadingContent>
                <ish-product-item
                  ishProductContext
                  [sku]="sku"
                  [configuration]="listItemConfiguration"
                  [displayType]="listItemStyle"
                />
              </ng-template>
            </ish-lazy-item>
          </ng-template>
        </ish-swiper>
      </div>
    </ng-container>

    <ng-template #plainList>
      <div class="product-list row">
        <div *ngFor="let sku of products" class="product-list-item" [ngClass]="listItemCSSClass">
          <ish-product-item
            ishProductContext
            [sku]="sku"
            [configuration]="listItemConfiguration"
            [displayType]="listItemStyle"
          />
        </div>
      </div>
    </ng-template>
  </ng-container>
</ng-container>
