<div class="breadcrumbs row">
  <ol class="breadcrumbs-list">

    <li *ngIf="showHome" class="breadcrumbs-list breadcrumbs-list-home">
      <a class="breadcrumbs-list-link breadcrumbs-list-link-home" rel="home" routerLink="/home">{{ 'common.home.link' | translate }}</a><span class="breadcrumb-list-separator">{{ separator }}</span>
    </li>

    <ng-container *ngIf="category">
      <li *ngFor="let pathCategory of category.pathCategories(); let last = last" class="breadcrumbs-list" [ngClass]="{'breadcrumbs-list-active' : last}">
        <ng-container *ngIf="!last || product; else lastEntry">
          <a class="breadcrumbs-list-link" [routerLink]="['/category', pathCategory.uniqueId]">{{ pathCategory.name }}</a><span class="breadcrumb-list-separator">{{ separator }}</span>
        </ng-container>
        <ng-template #lastEntry>
          {{ pathCategory.name }}
        </ng-template>
      </li>
    </ng-container>

    <li *ngIf="product" class="breadcrumbs-list breadcrumbs-list-active">
      {{ product.name }}
    </li>

    <li *ngIf="searchTerm" class="breadcrumbs-list breadcrumbs-list-active" data-testing-id="breadcrumb-search-term">
      {{ 'search.breadcrumbs.your_search.label' | translate }} {{ searchTerm }}
    </li>

    <li *ngIf="account" class="breadcrumbs-list">
      <a class="breadcrumbs-list-link" routerLink="/account">{{ 'account.my_account.link' | translate }}</a><span class="breadcrumb-list-separator">{{ separator }}</span>
    </li>

    <li *ngFor="let item of trail; let index = index;" class="breadcrumbs-list">
      <a *ngIf="item.link" [routerLink]="item.link" class="breadcrumbs-list-link">{{ item.text || (item.key | translate) }}</a>
      <ng-container *ngIf="!item.link">{{ item.text || (item.key | translate) }}</ng-container>
      <span *ngIf="index < trail.length - 1" class="breadcrumb-list-separator">{{ separator }}</span>
    </li>

  </ol>
</div>
