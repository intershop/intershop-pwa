<ng-container
  *ngIf="promotion && (promotion.ruleDescription || promotion.legalContentMessage || promotion.externalUrl)"
>
  <ng-container *ngIf="promotion.externalUrl && promotion.useExternalUrl; else modalLink">
    <a
      class="details-link promotion-details-link"
      [href]="promotion.externalUrl"
      target="_blank"
      rel="nofollow"
      [title]="'promotion.detailslink.label' | translate"
      >{{ 'promotion.detailslink.text' | translate }}</a
    >
  </ng-container>
  <ng-template #modalLink>
    <a
      class="details-link promotion-details-link"
      (click)="modalDialog.show()"
      rel="nofollow"
      [title]="'promotion.detailslink.label' | translate"
      >{{ 'promotion.detailslink.text' | translate }}</a
    >
  </ng-template>

  <ish-modal-dialog #modalDialog [options]="{ titleText: 'promotion.detaillist.title' | translate }">
    <ng-container *ngIf="promotion.longTitle; else title">
      <h3 [ishServerHtml]="promotion.longTitle"></h3>
    </ng-container>
    <ng-template #title> <h3 [ishServerHtml]="promotion.title"></h3> </ng-template>

    <p *ngIf="promotion.ruleDescription" [ishServerHtml]="promotion.ruleDescription"></p>
    <p *ngIf="promotion.legalContentMessage" class="help-block" [ishServerHtml]="promotion.legalContentMessage"></p>
    <p *ngIf="promotion.externalUrl">
      <a [href]="promotion.externalUrl" rel="nofollow" target="_blank">{{ promotion.externalUrl }}</a>
    </p>
  </ish-modal-dialog>
</ng-container>
