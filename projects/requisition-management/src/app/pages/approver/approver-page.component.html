<h1>{{ 'account.requisitions.approvals' | translate }}</h1>

<p>{{ 'account.requisitions.approvals.text' | translate }}</p>

<ul ngbNav class="nav-tabs" [(activeId)]="status">
  <li ngbNavItem="pending">
    <a ngbNavLink [routerLink]="['../approver', { requisitionStatus: 'pending' }]" data-testing-id="tab-link-pending">{{
      'account.requisitions.approvals.navtab.waiting' | translate
    }}</a>
  </li>
  <li ngbNavItem="approved">
    <a
      ngbNavLink
      [routerLink]="['../approver', { requisitionStatus: 'approved' }]"
      data-testing-id="tab-link-approved"
      >{{ 'account.requisitions.approvals.navtab.approved' | translate }}</a
    >
  </li>
  <li ngbNavItem="rejected">
    <a
      ngbNavLink
      [routerLink]="['../approver', { requisitionStatus: 'rejected' }]"
      data-testing-id="tab-link-rejected"
      >{{ 'account.requisitions.approvals.navtab.rejected' | translate }}</a
    >
  </li>
</ul>

<div class="section loading-container">
  <ish-error-message [error]="error$ | async"></ish-error-message>

  <ish-requisitions-list
    [requisitions]="requisitions$ | async"
    [requisitionStatus]="status"
    [columnsToDisplay]="columnsToDisplay"
  ></ish-requisitions-list>

  <ish-loading *ngIf="loading$ | async"></ish-loading>
</div>
