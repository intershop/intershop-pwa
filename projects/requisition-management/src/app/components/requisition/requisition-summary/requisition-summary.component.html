<div *ngIf="requisition" class="section">
  <dl class="row dl-horizontal dl-separator">
    <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.order.request_id' | translate }}</dt>
    <dd class="col-6 col-sm-8 col-md-10">{{ requisition.requisitionNo }}</dd>

    <ng-container *ngIf="requisition.approval?.status === 'approved'">
      <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.order_reference_id.label' | translate }}</dt>
      <dd class="col-6 col-sm-8 col-md-10">{{ requisition.orderNo }}</dd>
    </ng-container>

    <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.order_date.label' | translate }}</dt>
    <dd class="col-6 col-sm-8 col-md-10">{{ requisition.creationDate | ishDate }}</dd>

    <ng-container *ngIf="view === 'buyer' && requisition.approval?.status !== 'pending'">
      <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.approver.label' | translate }}</dt>
      <dd class="col-6 col-sm-8 col-md-10">
        {{ requisition.approval?.approver?.firstName }} {{ requisition.approval?.approver?.lastName }}
      </dd>
    </ng-container>

    <ng-container *ngIf="view === 'approver'">
      <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.purchaser.label' | translate }}</dt>
      <dd class="col-6 col-sm-8 col-md-10">{{ requisition.user.firstName }} {{ requisition.user.lastName }}</dd>
    </ng-container>

    <ng-container *ngIf="requisition.approval?.status !== 'pending'">
      <dt *ngIf="requisition.approval?.status === 'approved'; else labelDateRejected" class="col-6 col-sm-4 col-md-2">
        {{ 'approval.detailspage.approval_date.label' | translate }}
      </dt>
      <ng-template #labelDateRejected>
        <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.purchaser.label' | translate }}</dt>
      </ng-template>
      <dd class="col-6 col-sm-8 col-md-10">{{ requisition.approval.approvalDate | ishDate }}</dd>
    </ng-container>

    <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.order_total.label' | translate }}</dt>
    <dd class="col-6 col-sm-8 col-md-10">{{ requisition.totals.total | ishPrice: 'gross' }}</dd>

    <dt class="col-6 col-sm-4 col-md-2">{{ 'approval.detailspage.approval_status.label' | translate }}</dt>
    <dd class="col-6 col-sm-8 col-md-10">
      <span
        class="border border-secondary badge badge-secondary"
        [ngClass]="{
          'border-primary badge-primary': requisition.approval.status === 'approved',
          'border-danger badge-danger': requisition.approval.status === 'rejected'
        }"
      >
        {{ requisition.approval.status }}</span
      >
    </dd>

    <ng-container *ngIf="requisition.approval.approvalComment">
      <dt class="col-6 col-sm-4 col-md-2 mt-3">{{ 'approval.detailspage.comment.label=Comment' | translate }}</dt>
      <dd class="col-6 col-sm-8 col-md-10 mt-3">{{ requisition.approval.approvalComment }}</dd>
    </ng-container>
  </dl>
</div>
